<script setup lang="ts">
const appConfig = useAppConfig()
const colorMode = useColorMode()
</script>

<template>
    <div class="theme-toggle">
        <button
            v-for="(themeData, themeName) in appConfig.themes"
            :key="themeName"
            v-tip="themeData.tip"
            :aria-label="themeData.tip"
            :class="{ active: colorMode.preference === themeName }"
            @click="colorMode.preference = themeName"
        >
            <Icon :name="themeData.icon" />
        </button>
    </div>
</template>

<style lang="scss" scoped>
.theme-toggle {
    display: flex;
    justify-content: center;
    gap: 3px;
    width: fit-content;
    margin: 0 auto;
    padding: 2px;
    border: 1px solid var(--c-border);
    border-radius: 1rem;
    background-color: var(--c-bg-2);

    > button {
        padding: 4px 1rem;
        border-radius: 1rem;
        transition: all 0.1s;

        &:hover {
            background-color: var(--c-bg-soft);
            color: var(--c-text-1);
        }

        &.active {
            box-shadow: 0.1em 0.2em 0.5rem var(--ld-shadow);
            background-color: var(--ld-bg-card);
            color: var(--c-text-1);
            cursor: auto;
        }
    }
}
</style>
